function [ output_args ] = RandomForestModel(x,y,folds,trees)
    
    sampleSize= size(x,1);
    treeSize = size(trees,2);
    
    sensitivity=zeros(treeSize,folds);
    specificity=zeros(treeSize,folds);
    precision=zeros(treeSize,folds);
    efficiency=zeros(treeSize,folds);
    
    for tree=1:6
        for fold=1:Rept
            rng('default');
            particion=cvpartition(NumMuestras,'Kfold',folds);
            Xtrain=x(particion.training(fold),:);
            Xtest=x(particion.test(fold),:);
            Ytrain=y(particion.training(fold));
            Ytest=y(particion.test(fold));

            modeloRF=entrenarFOREST(trees(tree),Xtrain,Ytrain');
            Yesti=testFOREST(modeloRF,Xtest);
            FN=(sum(Yesti~=Ytest))-(sum(Yesti==-1 & Yesti~=Ytest));
            FP=(sum(Yesti~=Ytest))-(sum(Yesti==1 & Yesti~=Ytest));
            TP=sum(Yesti==Ytest & Yesti==-1);
            TN=sum(Yesti==Ytest)-TP;
            sensitivity(tree,fold)=(TP)/(TP+FN);
            specificity(tree,fold)=(TN)/(TN+FP);
            precision(tree,fold)=(TP)/(TP+FP);
            efficiency(tree,fold)=(TP+TN)/(TP+TN+FP+FN);
            texto=['Arboles = ', num2str(arbol(tree)),' fold: ',num2str(fold)];
            disp(texto);

        end
    end
    finalSensitivity=zeros(neighborsSize,2);
    finalSpecificity=zeros(neighborsSize,2);
    finalPrecision=zeros(neighborsSize,2);
    finalEfficiency=zeros(neighborsSize,2);
       
    for i=1:neighborsSize
        finalEfficiency(i,1)=mean(efficiency(i,:));
        finalEfficiency(i,2)=std(efficiency(i,:));
        finalSpecificity(i,1)=mean(specificity(i,:));
        finalSpecificity(i,2)=std(specificity(i,:));
        finalSensitivity(i,1)=mean(sensitivity(i,:));
        finalSensitivity(i,2)=std(sensitivity(i,:));
        finalPrecision(i,1)=mean(precision(i,:));
        finalPrecision(i,2)=std(precision(i,:));
    end
    
end

